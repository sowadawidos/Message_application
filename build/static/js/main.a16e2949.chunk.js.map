{"version":3,"sources":["components/button/Button.js","images/search.svg","images/send.svg","components/chat/Chat.js","components/user_list/UserPageList.js","components/main_page/MainPage.js","App.js","reportWebVitals.js","index.js"],"names":["Button","onClick","children","className","Chat","user","messageDB","messageID","image","name","active","useState","message","setMessage","newMessages","setNewMessages","uid","displayName","photoURL","useEffect","collection","doc","orderBy","onSnapshot","querySnapshot","data","docs","map","id","console","log","src","alt","text","moment","Date","date","fromNow","onSubmit","e","preventDefault","add","firebase","firestore","FieldValue","serverTimestamp","onChange","target","value","type","placeholder","send","UserPageList","users","setUsers","messages","setMessages","setMessageID","setImage","setName","href","logo","logged_user","chatUser","length","forEach","userFirstID","userSecondID","set","photo","chat","checkedUser","filter","checkedUser2","event","chatID","getChatID","MainPage","checkUser","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","App","currentUser","setUser","initializing","setInitializing","setActive","onAuthStateChanged","signIn","a","provider","GoogleAuthProvider","useDeviceLanguage","signInWithPopup","error","signOut","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a16e2949.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Button.scss\";\n\nexport const Button = ({onClick = null, children = null}) => {\n    return (\n        <>\n            <button className=\"sign__button\" onClick={onClick}>{children}</button>\n        </>\n    )\n}","export default __webpack_public_path__ + \"static/media/search.da3387c7.svg\";","export default __webpack_public_path__ + \"static/media/send.da88ad74.svg\";","import React, {useState, useEffect} from \"react\";\nimport \"./Chat.scss\";\nimport send from \"../../images/send.svg\";\nimport firebase from \"firebase/app\";\nimport moment from \"moment\";\n\nexport const Chat = ({user, messageDB, messageID, image, name, active}) => {\n\n    const [message, setMessage] = useState([]);\n    const [newMessages, setNewMessages] = useState('');\n\n    const {uid, displayName, photoURL} = user;\n\n    useEffect(() => {\n        if (messageDB) {\n            messageDB.collection('messages').doc(`${messageID}`).collection('message').orderBy('date').onSnapshot(querySnapshot => {\n                const data = querySnapshot.docs.map(doc => ({\n                    ...doc.data(),\n                    id: doc.id,\n                }))\n                setMessage(data);\n            })\n        }\n\n    }, [messageID, messageDB]);\n\n    const onChange = e => {\n        setNewMessages(e.target.value);\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        if (messageDB) {\n            messageDB.collection('messages').doc(`${messageID}`).collection('message').add({\n                text: newMessages,\n                date: firebase.firestore.FieldValue.serverTimestamp(),\n                uid,\n                displayName,\n                photoURL\n            })\n        }\n        setNewMessages(\"\");\n    }\n\n\n    console.log(message);\n    return (\n        <>\n            <div className={active ? `chat show` : `chat`}>\n                <div className=\"chat__users\">\n                    <img src={image} alt=\"avatar\"/>\n                    <p>{name}</p>\n                </div>\n                <div className=\"messages\">\n                    {\n                        message.map(message => {\n                            return (\n                                <>\n                                    {\n                                        uid === message.uid ?\n                                            <div key={message.id} className={`messages__left`}>\n                                                <div className=\"message\">\n                                                    <p className=\"main__message\">{message.text}</p>\n                                                    <p>\n                                                        {\n                                                            // `${new Date((message.date * 1000) - 62135638488000).toLocaleDateString()} ${new Date(message.date * 1000).toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'})}`\n                                                            `${moment(new Date((message.date * 1000) - 62135638488000)).fromNow()}`\n                                                        }\n                                                    </p>\n                                                </div>\n                                                <img src={message.photoURL} alt={\"avatar\"}/>\n                                            </div>\n                                            :\n                                            <div key={message.id} className={`messages__right`}>\n                                                <img src={message.photoURL} alt={\"avatar\"}/>\n                                                <div className=\"message\">\n                                                    <p className=\"main__message\">{message.text}</p>\n                                                    <p>\n                                                        {\n                                                            // `${new Date((message.date * 1000) - 62135638488000).toLocaleDateString()} ${new Date(message.date * 1000).toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'})}`\n                                                            `${moment(new Date((message.date * 1000) - 62135638488000)).fromNow()}`\n                                                        }\n                                                    </p>\n                                                </div>\n                                            </div>\n                                    }\n                                </>\n                            )\n                        })\n                    }\n                </div>\n                <form onSubmit={onSubmit} className=\"send__messages\">\n                    <input onChange={onChange} type=\"text\" value={newMessages} placeholder=\"Type Your message...\"/>\n                    <button><img src={send} alt=\"send button\"/></button>\n                </form>\n            </div>\n        </>\n    )\n}","import React, {useState, useEffect} from \"react\";\nimport \"./UserPageList.scss\";\nimport logo from \"../../images/search.svg\";\nimport {Chat} from \"../chat/Chat\";\n\nexport const UserPageList = ({user, messageDB, active}) => {\n\n    const [users, setUsers] = useState([]);\n    const [messages, setMessages] = useState([]);\n    const [messageID, setMessageID] = useState();\n    const [image, setImage] = useState();\n    const [name, setName] = useState();\n\n    useEffect(() => {\n        if (messageDB) {\n            messageDB.collection('users').onSnapshot(querySnapshot => {\n                const data = querySnapshot.docs.map(doc => ({\n                    ...doc.data(),\n                    id: doc.id,\n                }))\n                setUsers(data);\n            })\n            messageDB.collection('messages').onSnapshot(querySnapshot => {\n                const data = querySnapshot.docs.map(doc => ({\n                    ...doc.data(),\n                    id: doc.id\n                }))\n                setMessages(data);\n            })\n        }\n    }, [messageDB]);\n\n    const getUser = chatUser => {\n        if (messages.length > 0) {\n            messages.forEach(message => {\n                if (message.userFirstID === chatUser.uid || message.userSecondID === user.uid) {\n                    messageDB.collection('messages').doc(`${user.uid}${chatUser.uid}`).set({\n                        userSecondID: user.uid,\n                        userFirstID: chatUser.uid\n                    })\n                }\n            })\n        } else {\n            messageDB.collection('messages').doc(`${user.uid}${chatUser.uid}`).set({\n                userSecondID: user.uid,\n                userFirstID: chatUser.uid\n            })\n        }\n    }\n\n    const getChatID = (chatID, event, checkedUser, checkedUser2) => {\n        event.preventDefault();\n        setMessageID(chatID);\n\n        if (user.uid === checkedUser2.uid) {\n            setImage(checkedUser.photo);\n            setName(checkedUser.name);\n        } else {\n            setImage(checkedUser2.photo);\n            setName(checkedUser2.name);\n        }\n\n    }\n\n\n    return (\n        <>\n            <div className={active ? `user__page-list show` : `user__page-list`}>\n                <div className=\"users__list\">\n                    <h1>Users</h1>\n                    <ul>\n                        <li className=\"user-search\"><a href=\"#\"><img src={logo} alt=\"search\"/></a></li>\n                        {\n                            users.map(logged_user => {\n                                return (\n                                    <>\n                                        {\n                                            logged_user.uid !== user.uid ?\n                                                <li key={logged_user.id} className=\"user-logo\">\n                                                    <button onClick={() => getUser(logged_user)}><img\n                                                        src={logged_user.photo} alt=\"photo\"/>\n                                                    </button>\n                                                </li>\n                                                :\n                                                null\n                                        }\n\n                                    </>\n                                )\n                            })\n                        }\n\n                    </ul>\n                </div>\n                <ul className=\"user-list\">\n                    <h1 className=\"user-list-title\">Messages</h1>\n                    {\n                        messages.map(chat => {\n                            const checkedUser = users.filter(user => user.uid === chat.userFirstID);\n                            const checkedUser2 = users.filter(user => user.uid === chat.userSecondID);\n\n                            return (\n                                <>\n                                    {\n                                        chat.userFirstID === user.uid || chat.userSecondID === user.uid ?\n                                            <li key={chat.id}>\n                                                <a onClick={event => getChatID(chat.id, event, checkedUser[0], checkedUser2[0])}\n                                                   href=\"\"\n                                                   className=\"users\">\n                                                    <img src={\n                                                        user.uid === chat.userFirstID ? checkedUser2[0].photo : checkedUser[0].photo\n                                                    } alt=\"avatar\"/>\n                                                    <div className=\"user-description\">\n                                                        <h1 className=\"user-desc-unread\">\n                                                            {\n                                                                user.uid === chat.userFirstID ? checkedUser2[0].name : checkedUser[0].name\n                                                            }\n                                                        </h1>\n                                                    </div>\n                                                </a>\n                                            </li>\n                                            :\n                                            null\n                                    }\n\n                                </>\n\n                            )\n                        })\n                    }\n                </ul>\n            </div>\n            {\n                messageID ?\n                    <Chat user={user}\n                          messageDB={messageDB}\n                          messageID={messageID}\n                          image={image}\n                          name={name}\n                          active={active}/>\n                    :\n                    null\n            }\n        </>\n    )\n}","import React from \"react\";\nimport \"./MainPage.scss\";\nimport {UserPageList} from \"../user_list/UserPageList\";\n\nexport const MainPage = ({user, messageDB, users, active, checkUser}) => {\n\n    // const {uid, displayName, photoURL} = user;\n    //\n    // useEffect(() => {\n    //     if (messageDB) {\n    //         messageDB.collection('users').add({\n    //             name: displayName,\n    //             photo: photoURL,\n    //             uid: uid\n    //         })\n    //     }\n    // }, []);\n\n    return (\n        <>\n            <section className=\"main__page\">\n                <div className=\"container\">\n                    <UserPageList user={user} messageDB={messageDB} active={active}/>\n                </div>\n            </section>\n        </>\n    )\n}","import React, {useState, useEffect} from \"react\";\nimport './App.scss';\nimport 'firebase/auth';\nimport firebase from \"firebase/app\";\nimport 'firebase/firestore';\nimport {Button} from \"./components/button/Button\";\nimport \"./App.scss\";\nimport {MainPage} from \"./components/main_page/MainPage\";\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyDiGHuehmVjeTB08DcTVueINPfnZ6atwTQ\",\n    authDomain: \"message-appk.firebaseapp.com\",\n    projectId: \"message-appk\",\n    storageBucket: \"message-appk.appspot.com\",\n    messagingSenderId: \"1088403228949\",\n    appId: \"1:1088403228949:web:df373df2e84773f654c11c\"\n});\n\nconst auth = firebase.auth();\nconst messageDB = firebase.firestore();\n\nexport const App = () => {\n    const [user, setUser] = useState(() => auth.currentUser)\n    const [initializing, setInitializing] = useState(true);\n    const [active, setActive] = useState(false);\n\n    useEffect(() => {\n        const unsubscribe = auth.onAuthStateChanged(user => {\n            if (user) {\n                setUser(user);\n\n                const {uid, displayName, photoURL} = user;\n\n                messageDB.collection('users').doc(`${uid}`).set({\n                    name: displayName,\n                    photo: photoURL,\n                    uid: uid\n                })\n\n            } else {\n                setUser(null);\n            }\n            if (initializing) {\n                setInitializing(false);\n            }\n        })\n\n        return unsubscribe;\n    }, [initializing])\n\n    // const checkUser = users => {\n    //     const test = users.some(user1 => {\n    //         return user1.uid.includes(user.uid);\n    //     })\n    //     console.log(auth);\n    // }\n\n    const signIn = async () => {\n        const provider = new firebase.auth.GoogleAuthProvider();\n        auth.useDeviceLanguage();\n\n        try {\n            await auth.signInWithPopup(provider);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    const signOut = async () => {\n        try {\n            await firebase.auth().signOut();\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    const toggleClass = event => {\n        event.preventDefault();\n        setActive(!active);\n\n    }\n    if (initializing) return \"Loading...\";\n\n    return (\n        <>\n            {\n                user ?\n                    <div className=\"page\">\n                        <header className=\"app__header\">\n                            <div className=\"container\">\n                                <button onClick={toggleClass} className=\"hamburger\">\n                                    <span/>\n                                    <span/>\n                                    <span/>\n                                </button>\n                                <div className=\"logo\">\n                                    <h1 className=\"logo-title\">\n                                        <strong>Super</strong>\n                                        <span>Message app</span>\n                                    </h1>\n                                </div>\n                                <nav className=\"app__header-nav\">\n                                    <ul className=\"nav-list\">\n                                        <li className=\"nav-list-text\">\n                                            <Button onClick={signOut}>Sign Out</Button>\n                                        </li>\n                                        <li className=\"nav-list-text\">\n                                            <a href=\"\"><img src={user.photoURL}/></a>\n                                        </li>\n\n                                    </ul>\n                                </nav>\n                            </div>\n                        </header>\n                        <MainPage user={user} messageDB={messageDB} active={active}/>\n                    </div>\n                    :\n                    <div className=\"page\">\n                        <header className=\"app__header\">\n                            <div className=\"container\">\n                                <div className=\"logo\">\n                                    <h1 className=\"logo-title\">\n                                        <strong>Super</strong>\n                                        <span>Message app</span>\n                                    </h1>\n                                </div>\n                                <nav className=\"app__header-nav\">\n                                    <ul className=\"nav-list\">\n                                        <li className=\"nav-list-text\">\n                                            <Button onClick={signIn}>Sign In</Button>\n                                        </li>\n                                    </ul>\n                                </nav>\n                            </div>\n                        </header>\n                        <div className=\"main__page_signout\">\n                            <div className=\"main__page_signout-text\">\n                                <h1 className=\"logo-title\">\n                                    <strong>Super</strong>\n                                    <span>Message app</span>\n                                </h1>\n                                <h1>Sign in to use application</h1>\n                            </div>\n                        </div>\n                        <section>\n                            <div className=\"wave wave1\"/>\n                            <div className=\"wave wave2\"/>\n                            <div className=\"wave wave3\"/>\n                            <div className=\"wave wave4\"/>\n                        </section>\n                    </div>\n            }\n        </>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}